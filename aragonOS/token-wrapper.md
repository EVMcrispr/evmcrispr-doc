---
id: token-wrapper
title: Token Wrapper
---

This app will enable you to convert a normal ERC20 token into a checkpointed ERC20 token, thus making it compatible with the [Vote Aggregator App](./vote-aggregator.md). The Token Wrapper has no UI and all actions can only be done through interacting with the contract directly or via EVMcrispr. 

The Token Wrapper was built by Aragon and maintained by 1Hive. It is currently used in the default deployment of [Gardens](https://gardens.1hive.org/#/home) to allow DAOs to bring in existing ERC20 tokens and use them in their custom Gardens DAO deployment.

## Installing the App

The syntax is as follows to install this app:

```
install token-wrapper.open:new <depositToken> <tokenName> <tokenSymbol>
```

You'll need the following parameters to install a new Token Wrapper to your DAO:

- `depositToken`
    - The address of the ERC20 token that will be "wrapped" into a checkpointed ERC20 token.
- `tokenName`
    - The name of the token you wish to create.
- `tokenSymbol`
    - The symbol you wish to set for the token.

### Common Usage Example

An example for how to install this app is as follows:

```
load aragonos as ar

ar:connect exampleDAO token-manager voting (
  install blossom-token-wrapper.open:new @token(HNY) "Wrapped Honey Token" "WHNY"
)
```

This command will install a new instance of the Token Wrapper app into the specified Aragon DAO. It will only accept deposits of HNY tokens and will return Wrapped Honey Tokens, with a token symbol of WHNY.

:::tip 
Tokens generated by the [Token Manager](./token-manager.mdx) app by default are already ERC20 checkpointed tokens, so it is not recommended to use them in conjuction with the Token Wrapper, also Minime Tokens already have checkpointing and thus are not recommended as well. To identify a token that already has checkpointing, look for these two functions in it's code: `balanceOfAt` and `totalSupplyAt`. ERC20 tokens without these functions are eligible to be used by the Token Wrapper.
:::


import InstallVersioning from '../partials/_installVersioning.mdx'

<InstallVersioning />

## Permissions and Approval

**The Token Wrapper app has no permissions!** :D

<span id='bigItalic'>However...</span>  <br />

 since it deals with ERC20 tokens you'll need to approve the `depositToken` to be used by the Token Wrapper before being able to wrap it.

Here's a sample syntax to make it easy for you:

```
load aragonos as ar

ar:connect exampleDAO (
    set $TokenWrapper blossom-token-wrapper.open
    set $depositToken blossom-token-wrapper.open::depositedToken()
)

exec $depositToken approve(address,uint256) $TokenWrapper <amountToApprove>

# The rest of your script continues here. . . 
```

We make use of setting variables with EVMcrispr to get the contract addresses of the Token Wrapper and the deposit token it accepts. In a separate action (outside of the DAO), we approve the Token Wrapper to use a specified amount of deposit tokens (paying attention to decimals).

## Internal Actions

Using the `exec` command, we can create internal actions that will modify the settings of our app.

Below is an exhaustive list of all possible internal actions you can perform with the Token Wrapper app. In addition, we will identify the function in the contract and outline any parameters and permissions you need and the expected syntax to run them.

<details><summary>deposit</summary>
This function will deposit a given amount of tokens into the Token Wrapper and the app will issue a 1:1 matching amount of wrapped tokens in return.

#### Parameters 

- `amount` - The amount of tokens you wish to deposit into the Token Wrapper. (uint256)

#### Syntax 

```
exec blossom-token-wrapper.open deposit <amount>
```

#### Usage Example

```
exec blossom-token-wrapper.open deposit 100e18
```

This will deposit 100 of the deposit tokens into the Token Wrapper. This will only work if the token has already been approved, read [Permissions and Approval](#permissions-and-approval) for more info.

</details>

<details><summary>withdraw</summary>
This function will withdraw a given amount of tokens from Token Wrapper and the app will return the tokens from the contact and burn the wrapped tokens held by the sender at a 1:1 ratio.

#### Parameters 

- `amount` - The amount of tokens you wish to withdraw from the Token Wrapper. (uint256)

#### Syntax 

```
exec blossom-token-wrapper.open withdraw <amount>
```

#### Usage Example

```
exec blossom-token-wrapper.open withdraw 100e18
```

This will withdraw 100 of the deposit tokens from the Token Wrapper. Concurrently, 100 wrapped tokens will also be burned by the Token Wrapper.

</details>